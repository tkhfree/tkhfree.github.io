<!DOCTYPE html>
<html lang="zh-CN">

<head>
    <meta charset="UTF-8">
<meta name="viewport"
      content="width=device-width, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0">
<meta http-equiv="X-UA-Compatible" content="ie=edge">

    <meta name="author" content="Ian Tang">


    <meta name="subtitle" content="岁月不居时节如流">


    <meta name="description" content="好记性不如烂笔头">



<title>Python总结一 | 随笔</title>



    <link rel="icon" href="/image/The_Lion_King_32_32.png">




    <!-- stylesheets list from _config.yml -->
    
    <link rel="stylesheet" href="/css/style.css">
    



    <!-- scripts list from _config.yml -->
    
    <script src="/js/script.js"></script>
    
    <script src="/js/tocbot.min.js"></script>
    



    
    
        
    


<meta name="generator" content="Hexo 6.3.0"></head>

<body>
    <script>
        // this function is used to check current theme before page loaded.
        (() => {
            const currentTheme = window.localStorage && window.localStorage.getItem('theme') || '';
            const isDark = currentTheme === 'dark';
            const pagebody = document.getElementsByTagName('body')[0]
            if (isDark) {
                pagebody.classList.add('dark-theme');
                // mobile
                document.getElementById("mobile-toggle-theme").innerText = "· Dark"
            } else {
                pagebody.classList.remove('dark-theme');
                // mobile
                document.getElementById("mobile-toggle-theme").innerText = "· Light"
            }
        })();
    </script>

    <div class="wrapper">
        <header>
    <nav class="navbar">
        <div class="container">
            <div class="navbar-header header-logo"><a href="/">Tangkaifei&#39;s Blog</a></div>
            <div class="menu navbar-right">
                
                    <a class="menu-item" href="/archives">Posts</a>
                
                    <a class="menu-item" href="/category">Categories</a>
                
                    <a class="menu-item" href="/tag">Tags</a>
                
                    <a class="menu-item" href="/about">About</a>
                
                <input id="switch_default" type="checkbox" class="switch_default">
                <label for="switch_default" class="toggleBtn"></label>
            </div>
        </div>
    </nav>

    
    <nav class="navbar-mobile" id="nav-mobile">
        <div class="container">
            <div class="navbar-header">
                <div>
                    <a href="/">Tangkaifei&#39;s Blog</a><a id="mobile-toggle-theme">·&nbsp;Light</a>
                </div>
                <div class="menu-toggle" onclick="mobileBtn()">&#9776; Menu</div>
            </div>
            <div class="menu" id="mobile-menu">
                
                    <a class="menu-item" href="/archives">Posts</a>
                
                    <a class="menu-item" href="/category">Categories</a>
                
                    <a class="menu-item" href="/tag">Tags</a>
                
                    <a class="menu-item" href="/about">About</a>
                
            </div>
        </div>
    </nav>

</header>
<script>
    var mobileBtn = function f() {
        var toggleMenu = document.getElementsByClassName("menu-toggle")[0];
        var mobileMenu = document.getElementById("mobile-menu");
        if(toggleMenu.classList.contains("active")){
           toggleMenu.classList.remove("active")
            mobileMenu.classList.remove("active")
        }else{
            toggleMenu.classList.add("active")
            mobileMenu.classList.add("active")
        }
    }
</script>
            <div class="main">
                <div class="container">
    
    
        <div class="post-toc">
    <div class="tocbot-list">
    </div>
    <div class="tocbot-list-menu">
        <a class="tocbot-toc-expand" onclick="expand_toc()">Expand all</a>
        <a onclick="go_top()">Back to top</a>
        <a onclick="go_bottom()">Go to bottom</a>
    </div>
</div>

<script>
    var tocbot_timer;
    var DEPTH_MAX = 6; // 为 6 时展开所有
    var tocbot_default_config = {
        tocSelector: '.tocbot-list',
        contentSelector: '.post-content',
        headingSelector: 'h1, h2, h3, h4, h5',
        orderedList: false,
        scrollSmooth: true,
        onClick: extend_click,
    };

    function extend_click() {
        clearTimeout(tocbot_timer);
        tocbot_timer = setTimeout(function() {
            tocbot.refresh(obj_merge(tocbot_default_config, {
                hasInnerContainers: true
            }));
        }, 420); // 这个值是由 tocbot 源码里定义的 scrollSmoothDuration 得来的
    }

    document.ready(function() {
        tocbot.init(obj_merge(tocbot_default_config, {
            collapseDepth: 1
        }));
    });

    function expand_toc() {
        var b = document.querySelector('.tocbot-toc-expand');
        var expanded = b.getAttribute('data-expanded');
        expanded ? b.removeAttribute('data-expanded') : b.setAttribute('data-expanded', true);
        tocbot.refresh(obj_merge(tocbot_default_config, {
            collapseDepth: expanded ? 1 : DEPTH_MAX
        }));
        b.innerText = expanded ? 'Expand all' : 'Collapse all';
    }

    function go_top() {
        window.scrollTo(0, 0);
    }

    function go_bottom() {
        window.scrollTo(0, document.body.scrollHeight);
    }

    function obj_merge(target, source) {
        for (var item in source) {
            if (source.hasOwnProperty(item)) {
                target[item] = source[item];
            }
        }
        return target;
    }
</script>
    

    
    <article class="post-wrap">
        <header class="post-header">
            <h1 class="post-title">Python总结一</h1>
            
                <div class="post-meta">
                    
                        Author: <a itemprop="author" rel="author" href="/">Ian Tang</a>
                    

                    
                        <span class="post-time">
                        Date: <a href="#">六月 29, 2020&nbsp;&nbsp;9:00:45</a>
                        </span>
                    
                    
                </div>
            
        </header>

        <div class="post-content">
            <h2 id="数字类型"><a href="#数字类型" class="headerlink" title="数字类型"></a>数字类型</h2><h3 id="整形"><a href="#整形" class="headerlink" title="整形"></a>整形</h3><p>int long</p>
<h3 id="浮点型"><a href="#浮点型" class="headerlink" title="浮点型"></a>浮点型</h3><p>float</p>
<h3 id="复数"><a href="#复数" class="headerlink" title="复数"></a>复数</h3><p>In [11]:</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">a = 1</span><br><span class="line">type(a)</span><br><span class="line">b=1.0</span><br><span class="line">type(b)</span><br><span class="line">c=1111111111111111111111111111111</span><br><span class="line">type(c)</span><br></pre></td></tr></table></figure>

<p>Out[11]:</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">int</span><br></pre></td></tr></table></figure>

<h2 id="表达式"><a href="#表达式" class="headerlink" title="表达式"></a>表达式</h2><p>不支持i++，使用i+&#x3D;1</p>
<p>In [15]:</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">a=6+8</span><br><span class="line">print (a)</span><br><span class="line">14</span><br></pre></td></tr></table></figure>

<h2 id="字符串和列表"><a href="#字符串和列表" class="headerlink" title="字符串和列表"></a>字符串和列表</h2><p>字符串就是特殊形式的列表，但是字符串的值是常量，对于字符串的更改都是更改的其副本，列表是变量，对于列表更改内容，列表地址不变。</p>
<p>字符串养成习惯用双引号来表示</p>
<p>python没有数组的概念，用列表表示，列表中可以存放任意类型的数据，同一列表可以放置多种数据</p>
<p>In [55]:</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br></pre></td><td class="code"><pre><span class="line"># 取下标操作</span><br><span class="line">str_test=&quot;hello&quot;</span><br><span class="line">list_test=[&quot;h&quot;,&quot;e&quot;,&quot;l&quot;,&quot;l&quot;,&quot;o&quot;]</span><br><span class="line">print (str_test[0])</span><br><span class="line">print (list_test[0])</span><br><span class="line"># 取1个到第3个之间的元素</span><br><span class="line">print (str_test[1:4])</span><br><span class="line">print (list_test[0:4])</span><br><span class="line"># 取第1个到5个之间的元素，每隔2个取1个</span><br><span class="line">print (str_test[0:5:2])</span><br><span class="line">print (list_test[0:5:2])</span><br><span class="line"># 取某个元素的下标</span><br><span class="line">print (str_test.index(&quot;e&quot;))</span><br><span class="line">print (list_test.index(&quot;o&quot;))</span><br><span class="line"># 逆序取得某个元素</span><br><span class="line">print (str_test[-1])</span><br><span class="line">print (list_test[-1])</span><br><span class="line"># 追加元素</span><br><span class="line">print (str_test+&quot;,world&quot;)</span><br><span class="line">print (list_test+[&quot;,&quot;,&quot;world&quot;])</span><br><span class="line"># 计算长度</span><br><span class="line">print (len(str_test))</span><br><span class="line">print (len(list_test))</span><br><span class="line"># 多次复制</span><br><span class="line">print(str_test*3)</span><br><span class="line">print(list_test*4)</span><br><span class="line"># 复制新变量</span><br><span class="line">str_new_test = str_test[:]</span><br><span class="line">list_new_test = list_test[:]</span><br><span class="line">print(str_new_test)</span><br><span class="line">print(list_new_test)</span><br><span class="line"># python中变量名有点像c中的指针</span><br><span class="line">str_new_test1 = str_new_test</span><br><span class="line">print(id(str_new_test))</span><br><span class="line">print(id(str_new_test1))</span><br><span class="line">print(id(str_test))</span><br><span class="line"></span><br><span class="line"># 列表变量可以更改元素</span><br><span class="line">list_test[1]=&quot;i&quot;</span><br><span class="line">print(list_test)</span><br><span class="line"># 列表追加</span><br><span class="line">list_test.append(&quot;world&quot;)</span><br><span class="line">print(list_test)</span><br><span class="line"></span><br><span class="line">print(list_test+[&quot;python&quot;])</span><br><span class="line"># 列表在第1位插入</span><br><span class="line">list_test[1:1]=[1234567]</span><br><span class="line">print(list_test)</span><br><span class="line"></span><br><span class="line"># 字符串的大小写转变</span><br><span class="line">str_test_upper = str_test.upper()</span><br><span class="line">print(str_test_upper)</span><br><span class="line">h</span><br><span class="line">h</span><br><span class="line">ell</span><br><span class="line">[&#x27;h&#x27;, &#x27;e&#x27;, &#x27;l&#x27;, &#x27;l&#x27;]</span><br><span class="line">hlo</span><br><span class="line">[&#x27;h&#x27;, &#x27;l&#x27;, &#x27;o&#x27;]</span><br><span class="line">1</span><br><span class="line">4</span><br><span class="line">o</span><br><span class="line">o</span><br><span class="line">hello,world</span><br><span class="line">[&#x27;h&#x27;, &#x27;e&#x27;, &#x27;l&#x27;, &#x27;l&#x27;, &#x27;o&#x27;, &#x27;,&#x27;, &#x27;world&#x27;]</span><br><span class="line">5</span><br><span class="line">5</span><br><span class="line">hellohellohello</span><br><span class="line">[&#x27;h&#x27;, &#x27;e&#x27;, &#x27;l&#x27;, &#x27;l&#x27;, &#x27;o&#x27;, &#x27;h&#x27;, &#x27;e&#x27;, &#x27;l&#x27;, &#x27;l&#x27;, &#x27;o&#x27;, &#x27;h&#x27;, &#x27;e&#x27;, &#x27;l&#x27;, &#x27;l&#x27;, &#x27;o&#x27;, &#x27;h&#x27;, &#x27;e&#x27;, &#x27;l&#x27;, &#x27;l&#x27;, &#x27;o&#x27;]</span><br><span class="line">hello</span><br><span class="line">[&#x27;h&#x27;, &#x27;e&#x27;, &#x27;l&#x27;, &#x27;l&#x27;, &#x27;o&#x27;]</span><br><span class="line">140384645081328</span><br><span class="line">140384645081328</span><br><span class="line">140384645081328</span><br><span class="line">[&#x27;h&#x27;, &#x27;i&#x27;, &#x27;l&#x27;, &#x27;l&#x27;, &#x27;o&#x27;]</span><br><span class="line">[&#x27;h&#x27;, &#x27;i&#x27;, &#x27;l&#x27;, &#x27;l&#x27;, &#x27;o&#x27;, &#x27;world&#x27;]</span><br><span class="line">[&#x27;h&#x27;, &#x27;i&#x27;, &#x27;l&#x27;, &#x27;l&#x27;, &#x27;o&#x27;, &#x27;world&#x27;, &#x27;python&#x27;]</span><br><span class="line">[&#x27;h&#x27;, 1234567, &#x27;i&#x27;, &#x27;l&#x27;, &#x27;l&#x27;, &#x27;o&#x27;, &#x27;world&#x27;]</span><br><span class="line">HELLO</span><br></pre></td></tr></table></figure>

<h2 id="列表"><a href="#列表" class="headerlink" title="列表"></a>列表</h2><p>In [*]:</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"># 几种构建列表方式</span><br><span class="line">list_test1=list(&quot;helloworld&quot;)</span><br><span class="line">list_test2=[&quot;h&quot;,&quot;e&quot;,&quot;l&quot;,&quot;l&quot;,&quot;o&quot;]</span><br><span class="line">list_test3=[x for x in range(10)]</span><br><span class="line">list_test4=map(lambda x:x ,[1,2,3,4,5])</span><br><span class="line">print(list_test4)</span><br><span class="line">print(list_test1)</span><br></pre></td></tr></table></figure>

<h2 id="lambda"><a href="#lambda" class="headerlink" title="lambda"></a><strong>lambda</strong></h2><p>构造匿名函数</p>
<p>result &#x3D; lambda x : x+1</p>
<p>等同于</p>
<p>def result(x): return x+1</p>
<h2 id="map"><a href="#map" class="headerlink" title="map"></a>map</h2><p>map(function,sequenec[,sequence, …]) –&gt;list</p>
<p>map接受两个参数，一个函数，一个可迭代的对象或者是序列，返回一个列表</p>
<h2 id="元组"><a href="#元组" class="headerlink" title="元组"></a>元组</h2><p>元组就是常量化的列表</p>
<p>tuple_test&#x3D;(1,2,3,4,5)</p>
<p>元组表达跟列表基本一致，只是元组里的元素不能修改，列表的操作（除了修改）元组也都可以操作</p>
<p>列表转为元组</p>
<p>tup_test&#x3D;tuple([1,2,3,4,5])</p>
<p><strong>什么时候用元组？当希望把一个序列作为参数传递时，不希望被修改</strong></p>
<h2 id="字典"><a href="#字典" class="headerlink" title="字典"></a>字典</h2><p>与java中map对应，字典也是一个键值对结构</p>
<p>dict_test&#x3D;{“aa”: 1, “bb”: 2 , 1:aa , 1.3:bb}</p>
<p>取值</p>
<p>dict_test[“aa”] dict_test[2]</p>
<p>dict_test[1.3]</p>
<p>新添加键值对</p>
<p>dict_test[“test”]&#x3D;”helloworld”</p>
<p>更新键值对</p>
<p>dict_test[“aa”]&#x3D;”python”</p>
<h2 id="集合"><a href="#集合" class="headerlink" title="集合"></a>集合</h2><p>集合和列表相似，但是集合不能存放相同的元素</p>
<p>set_test&#x3D;set([[1,2,3,4,5,1,2,3,4,5]])    –&gt;[1,2,3,4,5]</p>
<h2 id="异常处理"><a href="#异常处理" class="headerlink" title="异常处理"></a>异常处理</h2><p>异常处理基本同java 类似，在try点创建一个标记，当遇到异常时匹配except，抛出异常，如果没有匹配的异常，则向上传递。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">try</span>:</span><br><span class="line">  exec1</span><br><span class="line">  <span class="keyword">try</span>:</span><br><span class="line">    exec2</span><br><span class="line">  fianlly:</span><br><span class="line">    exec3</span><br><span class="line"><span class="keyword">except</span> ErrorType:</span><br><span class="line">  catch error</span><br></pre></td></tr></table></figure>

<h2 id="函数"><a href="#函数" class="headerlink" title="函数"></a>函数</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">def func(name, age, cls=&quot;&quot;, *arg, **karg):</span><br></pre></td></tr></table></figure>

<p>函数用def定义，func是函数名，name，age是普通参数，必须按位置传入，cls是关键字参数或者默认参数，缺省可选，karg也是关键字参数，和cls关键字参数不一样的是，在函数中存在，但是不知道具体名称的关键字参数，arg是位置参数，同样是在函数中存在，但是不知道具体名称的位置参数。</p>
<p>参数的位置一定是按照（位置参数，关键字参数，*参数，**参数）的顺序来写，其中位置参数如果设定就一定要传入，如果参数定义为：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">def</span> <span class="title function_">func</span>(<span class="params">*arg, **karg</span>):</span><br><span class="line">  state</span><br></pre></td></tr></table></figure>

<p>则表示函数可以传入任意类型和任意数量的参数</p>
<p>传参形式是有多种多样的。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">def</span> <span class="title function_">func</span>(<span class="params">name, age=<span class="number">10</span></span>):</span><br><span class="line">  <span class="built_in">print</span> (<span class="string">&quot;name is %s, age is %d&quot;</span> %(name,age))</span><br><span class="line"><span class="comment">#调用方式</span></span><br><span class="line">func(<span class="string">&quot;hello&quot;</span>)</span><br><span class="line">func(<span class="string">&quot;hello&quot;</span>, <span class="number">20</span>)</span><br><span class="line">func(name=<span class="string">&quot;hello&quot;</span>, age=<span class="number">20</span>)</span><br><span class="line">func(age=<span class="number">20</span>, name=<span class="string">&quot;hello&quot;</span>)</span><br><span class="line"></span><br><span class="line">param_list=[<span class="string">&quot;hello&quot;</span>,<span class="number">20</span>]</span><br><span class="line">func(*param_list)</span><br><span class="line"></span><br><span class="line">param_dict=&#123;<span class="string">&quot;name&quot;</span>:<span class="string">&quot;hello&quot;</span>, <span class="string">&quot;age&quot;</span>:<span class="number">20</span>&#125;</span><br><span class="line">func(**param_dict)</span><br></pre></td></tr></table></figure>

<h2 id="迭代器"><a href="#迭代器" class="headerlink" title="迭代器"></a>迭代器</h2><p>迭代器iterator需要实现两个方法：</p>
<ol>
<li>__iter__，返回迭代器自身</li>
<li>__next__，返回迭代器下一个元素</li>
</ol>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">myiter</span>(<span class="title class_ inherited__">object</span>):</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">__init__</span>(<span class="params">self, count</span>):</span><br><span class="line">        self.count = count</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">__iter__</span>(<span class="params">self</span>):</span><br><span class="line">        <span class="keyword">return</span> self</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">__next__</span>(<span class="params">self</span>):</span><br><span class="line">        <span class="keyword">if</span> (<span class="number">0</span> &gt;= count):</span><br><span class="line">            <span class="keyword">raise</span> StopIteration()</span><br><span class="line">        <span class="keyword">else</span>:</span><br><span class="line">            self.count -= <span class="number">1</span></span><br><span class="line">            <span class="keyword">return</span> self.count</span><br><span class="line"></span><br><span class="line">myiter it = myiter(<span class="number">4</span>)</span><br><span class="line"><span class="keyword">while</span> <span class="number">1</span>:</span><br><span class="line">    e = it.__next__()</span><br><span class="line">    <span class="built_in">print</span> e</span><br></pre></td></tr></table></figure>

<h2 id="生成器"><a href="#生成器" class="headerlink" title="生成器"></a>生成器</h2><p>迭代器+协程</p>
<p>用open函数打开文件时，最好使用生成器模式。</p>
<p>创建生成器的方式</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 使用yield函数,每次执行都生成一个hello，获取它的值需要配合使用next函数或者迭代获取</span></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">first_generator</span>():</span><br><span class="line">    <span class="keyword">yield</span> <span class="string">&quot;hello&quot;</span></span><br><span class="line"></span><br><span class="line">result = first_generator()</span><br><span class="line">result.<span class="built_in">next</span>()</span><br><span class="line"><span class="comment"># 使用()获得生成器,当（）配合def使用是方法或者函数，当（）配合“,”使用是构造元组tumple，当和列表推导一起使用是生成器</span></span><br><span class="line">second_generator = (x <span class="keyword">for</span> x <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">10</span>))</span><br></pre></td></tr></table></figure>

<p>def定义的时一个普通函数，但是里面出现yield这个关键词，这就不是普通函数了，变成生成器了，有next这个成员函数（python3里变成__next__），<strong>生成器&#x3D;迭代器+协程</strong></p>
<p>yield两重魔力，第一重是迭代器有__next__函数，第二重当执行到yield时，相当于return object，但是没有并不完全一样，因为return会退出函数，而yield不会，相当于保存了运行的上下文，把函数挂起来。既然把函数挂起来，相当于该协程让出程序执行权，当__next__再次被调用，就从当前被挂起的上下文继续执行，这样可以一直循环下去，直到执行不到yield会抛出Raise StopIteration异常。</p>
<p>可以使用生成器实现cat file | grep keyword这样的Linux命令</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#!/usr/bin/python</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">with</span> <span class="built_in">open</span>(<span class="string">&quot;filepath&quot;</span>,<span class="string">&quot;r+&quot;</span>) <span class="keyword">as</span> file_obj:</span><br><span class="line">  	<span class="keyword">for</span> file <span class="keyword">in</span> file_obj:</span><br><span class="line">      	<span class="keyword">if</span> “keyword” <span class="keyword">in</span> file.strip():</span><br><span class="line">          	<span class="built_in">print</span> file</span><br><span class="line">        <span class="keyword">else</span>:</span><br><span class="line">          	<span class="keyword">pass</span></span><br></pre></td></tr></table></figure>

<p><a target="_blank" rel="noopener" href="https://segmentfault.com/a/1190000007208388">迭代器和生成器的大白话解释</a></p>
<h2 id="argv和raw-input"><a href="#argv和raw-input" class="headerlink" title="argv和raw_input"></a>argv和raw_input</h2><p>argv和raw_input都可以从命令行输入参数，不同点在于argv是从开始运行py文件时，就将输入以参数的形式在程序里使用；raw_input是在程序执行时，根据提示输入数据。</p>
<h2 id="name-x3D-x3D-main"><a href="#name-x3D-x3D-main" class="headerlink" title="__name__ &#x3D;&#x3D;__main__"></a>__name__ &#x3D;&#x3D;__main__</h2><p>__name__是内置变量，表示的是当前模块的名字。当前python文件是程序的主入口时，当前模块的__name__就是__main__，如果当前python文件不是程序的主入口，python是以模块import进来的，则__name__表示当前包的层次，是导入的文件名。</p>
<p>python的-m参数用于将一个模块或者包作为一个脚本运行，而__main__.py文件相当于是一个包的入口程序。</p>
<p><code>python xxx.py</code> 与 <code>python -m xxx.py</code> 的区别，一种是直接运行，一种是当做模块来运行。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#!/user/bin/python</span></span><br><span class="line"><span class="comment">#coding=utf-8</span></span><br><span class="line"><span class="comment">#run.py</span></span><br><span class="line"><span class="keyword">import</span> sys</span><br><span class="line"><span class="built_in">print</span> __name__</span><br><span class="line"><span class="built_in">print</span> sys.path</span><br></pre></td></tr></table></figure>

<p>两种运行方式</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">python run.py</span><br><span class="line">__main__    #__name__的值</span><br><span class="line">[&#x27;/yh1&#x27;, &#x27;/usr/lib/python27.zip&#x27;,...]</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">python -m run.py</span><br><span class="line">run   #__name__的值</span><br><span class="line">[&#x27;&#x27;, &#x27;/usr/lib/python27.zip&#x27;, ...]</span><br><span class="line">/usr/bin/python: No module named run.py</span><br></pre></td></tr></table></figure>

<h2 id="python的简洁if语句"><a href="#python的简洁if语句" class="headerlink" title="python的简洁if语句"></a>python的简洁if语句</h2><ol>
<li>普通写法</li>
</ol>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">a, b, c = <span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span></span><br><span class="line"><span class="keyword">if</span> a &gt; b :</span><br><span class="line">    c =a </span><br><span class="line"><span class="keyword">else</span>:</span><br><span class="line">    c = b </span><br></pre></td></tr></table></figure>

<ol start="2">
<li>一行表达式，为真时放if前，也就是if前的表达式是if为true的值</li>
</ol>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">c = a <span class="keyword">if</span> a &gt; b <span class="keyword">else</span> b;</span><br></pre></td></tr></table></figure>

<ol start="3">
<li>二维列表，利用大小判断的0，1当索引</li>
</ol>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">c = [b, a][a&gt;b]</span><br></pre></td></tr></table></figure>


        </div>

        
            <section class="post-copyright">
                
                    <p class="copyright-item">
                        <span>Author:</span>
                        <span>Ian Tang</span>
                    </p>
                
                
                    <p class="copyright-item">
                        <span>Permalink:</span>
                        <span><a href="https://tkhfree.github.io/2020/06/29/Python%E6%80%BB%E7%BB%93%E4%B8%80/">https://tkhfree.github.io/2020/06/29/Python%E6%80%BB%E7%BB%93%E4%B8%80/</a></span>
                    </p>
                
                
                    <p class="copyright-item">
                        <span>License:</span>
                        <span>Copyright (c) 2019 <a target="_blank" rel="noopener" href="http://creativecommons.org/licenses/by-nc/4.0/">CC-BY-NC-4.0</a> LICENSE</span>
                    </p>
                
                
                     <p class="copyright-item">
                         <span>Slogan:</span>
                         <span>Do you believe in <strong>DESTINY</strong>?</span>
                     </p>
                

            </section>
        
        <section class="post-tags">
            <div>
                <span>Tag(s):</span>
                <span class="tag">
                    
                    
                        <a href="/tags/Python/"># Python</a>
                    
                        
                </span>
            </div>
            <div>
                <a href="javascript:window.history.back();">back</a>
                <span>· </span>
                <a href="/">home</a>
            </div>
        </section>
        <section class="post-nav">
            
                <a class="prev" rel="prev" href="/2020/07/03/C-%E8%AF%AD%E6%B3%95%E7%90%86%E8%A7%A3/">C++语法理解</a>
            
            
            <a class="next" rel="next" href="/2020/06/21/SDN%E6%9E%B6%E6%9E%84%E4%B8%8E%E5%AE%9E%E7%8E%B0/">SDN架构与实现</a>
            
        </section>


    </article>
</div>

            </div>
            <footer id="footer" class="footer">
    <div class="copyright">
        <span>© Ian Tang | Powered by <a href="https://hexo.io" target="_blank">Hexo</a> & <a href="https://github.com/Siricee/hexo-theme-Chic" target="_blank">Chic</a></span>
    </div>
</footer>

    </div>
</body>

</html>